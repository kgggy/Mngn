<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.mngns.prj.svc.map.ReserListMapper">
		
	<select id="reserSelect"
		resultType="co.mngns.prj.svc.vo.ReserListVO">
		select r.reser_no, r.reser_dt, r.memo, r.reser_loc,
			   p.pet_id, r.svc_bgn_tm, r.svc_end_tm,
			   s.term, r.svc_stts, s.svc_id
		  from reser_list r, svc s, pet p
		 where r.svc_id = s.svc_id 
		   and r.pet_id = p.pet_id 
		   and r.reser_no = #{reser_no}
	</select>

	<select id="petSelectList"
		resultType="co.mngns.prj.pet.vo.PetVO">
		select * from pet where client_id = #{client_id}
	</select>

	<select id="clientAdd"
		resultType="co.mngns.prj.user.vo.ClientVO">
		select adres1, adres2 from client where client_id = #{client_id}
	</select>
	
	<select id="trnSelectList"
		resultType="co.mngns.prj.user.vo.ClientVO">
		select name from client where  role='2'
	</select>
	
	<select id="serviceUse" resultType="co.mngns.prj.svc.vo.ReserListVO">
      select l.*, 
      		 c.name, 
      		 case s.knd when 1 then '돌봄 서비스' when 2 then '산책 서비스' else '훈련 서비스' end as knd_name, 
      		 s.term, 
      		 s.prc
        from reser_list l, svc s, client c
       where l.client_id2 = c.client_id
         and s.svc_id = l.svc_id
         and l.client_id1 = #{client_id};
   </select>
	
</mapper>